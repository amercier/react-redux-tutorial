{"version":3,"sources":["selectors/story.js","constants/actionTypes.js","components/Button.jsx","components/Story.jsx","actions/archive.js","components/Stories.jsx","actions/story.js","components/SearchStories.jsx","components/App.jsx","reducers/story.js","reducers/archive.js","reducers/index.js","api/story.js","sagas/story.js","sagas/index.js","store/index.js","serviceWorker.js","index.jsx"],"names":["getReadableStories","_ref","archivedIds","storyState","archiveState","stories","filter","story","indexOf","objectID","STORY_ARCHIVE","STORIES_FETCH","STORIES_FETCH_ERROR","STORIES_ADD","Button","type","onClick","className","children","react_default","a","createElement","defaultProps","ButtonInline","_ref2","Button_Button","style","shape","label","string","width","isRequired","connect","title","url","author","num_comments","number","points","comments","archive","func","dispatch","onArchive","id","doArchiveStory","columns","href","Button_ButtonInline","COLUMNS","Stories","error","Object","keys","map","key","src_components_Story","state","doAddStories","doFetchErrorStories","SearchStories","props","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleSubmit","event","query","onFetchStories","setState","preventDefault","handleQueryChange","value","target","onSubmit","onChange","components_Button","Component","doFetchStories","App","components_SearchStories","src_components_Stories","INITIAL_STATE","applyAddStories","action","applyFetchErrorStories","applyArchiveStory","concat","toConsumableArray","rootReducer","combineReducers","arguments","length","undefined","fetchStories","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","fetch","abrupt","sent","json","stop","_x","apply","handleFetchStories","result","put","hits","t0","_marked","watchAll","all","takeEvery","sagas_marked","logger","createLogger","saga","createSagaMiddleware","store","createStore","applyMiddleware","run","rootSaga","Boolean","window","location","hostname","match","ReactDOM","render","es","src_components_App","document","querySelector","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.b0c27323.chunk.js","sourcesContent":["/**\n * Get a function that checks whether a story is not archived.\n *\n * @param {string[]} archivedIds - Archived story IDs.\n * @returns {Function} A function that checks whether a story is not archived.\n */\nconst isNotArchived = archivedIds => story =>\n  archivedIds.indexOf(story.objectID) === -1;\n\n/**\n * Get all readable stories.\n *\n * @param {Object} states - Object containing states.\n * @param {Object} states.storyState - Story state.\n * @param {Object[]} states.storyState.stories - All stories.\n * @param {string[]} states.archiveState - Archived story IDs.\n * @returns {Object[]} Stories that are not archived.\n */\nconst getReadableStories = ({ storyState, archiveState }) =>\n  storyState.stories.filter(isNotArchived(archiveState));\n\n/**\n * Get the stories fetch error.\n *\n * @param {Object} storyState - Story state.\n * @returns {Error} The story state, if any.\n */\nconst getFetchError = ({ storyState }) => storyState.error;\n\nexport { getReadableStories, getFetchError };\n","export const STORY_ARCHIVE = 'STORY_ARCHIVE';\nexport const STORIES_FETCH = 'STORIES_FETCH';\nexport const STORIES_FETCH_ERROR = 'STORIES_FETCH_ERROR';\nexport const STORIES_ADD = 'STORIES_ADD';\n","import React from 'react';\nimport { string, func, oneOf, node } from 'prop-types';\n\n/**\n * A button.\n *\n * @param {Object} props - Component properties.\n * @param {string} props.type - Button type.\n * @param {Function} props.onClick - Function to call on click.\n * @param {string} props.className - Class name.\n * @param {*} props.children - Button content.\n * @returns {React.Element} The rendered <button> element.\n */\nconst Button = ({ type, onClick, className, children }) => (\n  // eslint-disable-next-line react/button-has-type\n  <button type={type} className={className} onClick={onClick}>\n    {children}\n  </button>\n);\n\nButton.propTypes = {\n  type: oneOf(['button', 'submit', 'cancel']).isRequired,\n  className: string,\n  onClick: func,\n  children: node.isRequired,\n};\n\nButton.defaultProps = {\n  className: null,\n  onClick: null,\n};\n\n/**\n * A button with \"button-inline\" class.\n *\n * @param {Object} props - Component properties.\n * @param {string} props.type - Button type.\n * @param {Function} props.onClick - Function to call on click.\n * @param {*} props.children - Button content.\n * @returns {React.Element} The rendered <button> element.\n */\nconst ButtonInline = ({ type, onClick, children }) => (\n  <Button type={type} className=\"button-inline\" onClick={onClick}>\n    {children}\n  </Button>\n);\n\nButtonInline.propTypes = {\n  type: oneOf(['button', 'submit', 'cancel']).isRequired,\n  onClick: func.isRequired,\n  children: node.isRequired,\n};\n\nexport { ButtonInline };\nexport default Button;\n","import React from 'react';\nimport { number, string, func, shape } from 'prop-types';\nimport { connect } from 'react-redux';\nimport { doArchiveStory } from '../actions/archive';\nimport { ButtonInline } from './Button';\nimport './Story.css';\n\nconst style = shape({\n  label: string,\n  width: string.isRequired,\n});\n\nexport const StoryProptypes = {\n  story: shape({\n    title: string,\n    url: string,\n    author: string,\n    num_comments: number,\n    points: number,\n    objectID: string,\n  }).isRequired,\n  columns: shape({\n    title: style.isRequired,\n    author: style.isRequired,\n    comments: style.isRequired,\n    points: style.isRequired,\n    archive: style.isRequired,\n  }).isRequired,\n  onArchive: func.isRequired,\n};\n\n/**\n * Display a story.\n *\n * @param {Object} props - Component properties.\n * @param {Object} props.story - Story to display.\n * @param {Object} props.columns - Columns settings.\n * @param {Function} props.onArchive - Function to call when the Archive button is clicked.\n * @returns {React.Element} The rendered element.\n */\nconst Story = ({ story, columns, onArchive }) => {\n  const {\n    title,\n    url,\n    author,\n    num_comments: comments,\n    points,\n    objectID,\n  } = story;\n\n  return (\n    <div className=\"story\">\n      <span style={{ width: columns.title.width }}>\n        <a href={url}>{title}</a>\n      </span>\n      <span style={{ width: columns.author.width }}>{author}</span>\n      <span style={{ width: columns.comments.width }}>{comments}</span>\n      <span style={{ width: columns.points.width }}>{points}</span>\n      <span style={{ width: columns.archive.width }}>\n        <ButtonInline type=\"button\" onClick={() => onArchive(objectID)}>\n          Archive\n        </ButtonInline>\n      </span>\n    </div>\n  );\n};\n\nStory.propTypes = StoryProptypes;\n\n/**\n * Map Redux dispatch to properties.\n *\n * @param {Function} dispatch - Redux's dispatch.\n * @returns {Object} Properties.\n */\nconst mapDispatchToProps = dispatch => ({\n  onArchive: id => dispatch(doArchiveStory(id)),\n});\n\nexport default connect(\n  null,\n  mapDispatchToProps,\n)(Story);\n","import { STORY_ARCHIVE } from '../constants/actionTypes';\n\n/**\n * Create an STORY_ARCHIVE action.\n *\n * @param {string} id - Story id.\n * @returns {Object} A new STORY_ARCHIVE action.\n */\nconst doArchiveStory = id => ({\n  type: STORY_ARCHIVE,\n  id,\n});\n\nexport { doArchiveStory };\n","import React from 'react';\nimport { arrayOf, instanceOf } from 'prop-types';\nimport { connect } from 'react-redux';\nimport { getReadableStories, getFetchError } from '../selectors/story';\nimport './Stories.css';\n\nimport Story, { StoryProptypes } from './Story';\n\nconst COLUMNS = {\n  title: {\n    label: 'Title',\n    width: '40%',\n  },\n  author: {\n    label: 'Author',\n    width: '30%',\n  },\n  comments: {\n    label: 'Comments',\n    width: '10%',\n  },\n  points: {\n    label: 'Points',\n    width: '10%',\n  },\n  archive: {\n    width: '10%',\n  },\n};\n\n/**\n * Display stories.\n *\n * @param {Object} props - Component properties.\n * @param {Object[]} props.stories - Stories to display.\n * @param {Error} props.error - Error to display, if any.\n * @returns {React.Element} The rendered element.\n */\nconst Stories = ({ stories, error }) => (\n  <div className=\"stories\">\n    <div className=\"stories-header\">\n      {Object.keys(COLUMNS).map(key => (\n        <span key={key} style={{ width: COLUMNS[key].width }}>\n          {COLUMNS[key].label}\n        </span>\n      ))}\n    </div>\n\n    {error && <p className=\"error\">Something went wrong ...</p>}\n\n    {(stories || []).map(story => (\n      <Story key={story.objectID} story={story} columns={COLUMNS} />\n    ))}\n  </div>\n);\n\nStories.propTypes = {\n  stories: arrayOf(StoryProptypes.story).isRequired,\n  error: instanceOf(Error),\n};\n\nStories.defaultProps = {\n  error: null,\n};\n\n/**\n * Map state to properties.\n *\n * @param {Object} state - Redux state.\n * @returns {Object} Properties.\n */\nconst mapStateToProps = state => ({\n  stories: getReadableStories(state),\n  error: getFetchError(state),\n});\n\nexport default connect(mapStateToProps)(Stories);\n","import {\n  STORIES_ADD,\n  STORIES_FETCH,\n  STORIES_FETCH_ERROR,\n} from '../constants/actionTypes';\n\n/**\n * Create an STORIES_ADD action.\n *\n * @param {Object[]} stories - Stories to add.\n * @returns {Object} A new STORIES_ADD action.\n */\nconst doAddStories = stories => ({\n  type: STORIES_ADD,\n  stories,\n});\n\n/**\n * Create an STORIES_FETCH action.\n *\n * @param {string} query - Search query.\n * @returns {Object} A new STORIES_FETCH action.\n */\nconst doFetchStories = query => ({\n  type: STORIES_FETCH,\n  query,\n});\n\n/**\n * Create an STORIES_FETCH_ERROR action.\n *\n * @param {Error} error - Caught error.\n * @returns {Object} A new STORIES_FETCH_ERROR action.\n */\nconst doFetchErrorStories = error => ({\n  type: STORIES_FETCH_ERROR,\n  error,\n});\n\nexport { doAddStories, doFetchStories, doFetchErrorStories };\n","import React, { Component } from 'react';\nimport { func } from 'prop-types';\nimport { connect } from 'react-redux';\nimport { doFetchStories } from '../actions/story';\nimport Button from './Button';\n\n/**\n * A form to search stories.\n */\nclass SearchStories extends Component {\n  /**\n   * Create an instance of SearchStories.\n   *\n   * @param {Object} props - Component properties.\n   */\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      query: '',\n    };\n  }\n\n  /**\n   * Function called whenever the form is submitted.\n   *\n   * @param {InputEvent} event - The submit event.\n   * @returns {undefined} Nothing.\n   */\n  handleSubmit = event => {\n    const { query } = this.state;\n    if (query) {\n      const { onFetchStories } = this.props;\n      onFetchStories(query);\n      this.setState({ query: '' });\n    }\n\n    event.preventDefault();\n  };\n\n  /**\n   * Function called whenever the search query has changed.\n   *\n   * @param {InputEvent} event - The submit event.\n   * @returns {undefined} Nothing.\n   */\n  handleQueryChange = event => {\n    const { value } = event.target;\n    this.setState({ query: value });\n  };\n\n  /**\n   * Render the component.\n   *\n   * @returns {React.Element} The rendered element.\n   */\n  render() {\n    const { query } = this.state;\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <input type=\"text\" value={query} onChange={this.handleQueryChange} />\n        <Button type=\"submit\">Search</Button>\n      </form>\n    );\n  }\n}\n\nSearchStories.propTypes = {\n  onFetchStories: func.isRequired,\n};\n\n/**\n * Map Redux dispatch to properties.\n *\n * @param {Function} dispatch - Redux's dispatch.\n * @returns {Object} Properties.\n */\nconst mapDispatchToProps = dispatch => ({\n  onFetchStories: query => dispatch(doFetchStories(query)),\n});\n\nexport default connect(\n  null,\n  mapDispatchToProps,\n)(SearchStories);\n","import React from 'react';\nimport './App.css';\n\nimport Stories from './Stories';\nimport SearchStories from './SearchStories';\n\n/**\n * Main component of the application.\n *\n * @returns {React.Element} The rendered <div> element.\n */\nconst App = () => (\n  <div className=\"app\">\n    <div className=\"interactions\">\n      <SearchStories />\n    </div>\n    <Stories />\n  </div>\n);\n\nexport default App;\n","import { STORIES_ADD, STORIES_FETCH_ERROR } from '../constants/actionTypes';\n\n/**\n * Initial Story state.\n *\n * @type {Object}\n */\nconst INITIAL_STATE = {\n  stories: [],\n  error: null,\n};\n\n/**\n * Add stories.\n *\n * @param {Object} state - Previous state.\n * @param {Object} action - STORIES_ADD action.\n * @returns {Object} Next state.\n */\nconst applyAddStories = (state, action) => ({\n  stories: action.stories,\n  error: null,\n});\n\n/**\n * Handle fetch stories error.\n *\n * @param {Object} state - Previous state.\n * @param {Object} action - STORIES_FETCH_ERROR action.\n * @returns {Object} Next state.\n */\nconst applyFetchErrorStories = (state, action) => ({\n  stories: [],\n  error: action.error,\n});\n\n/**\n * Story reducer.\n *\n * @param {Object} [state=INITIAL_STATE] - Previous state.\n * @param {Object} action - Action to handle.\n * @returns {Object} Next state.\n */\nexport default function storyReducer(state = INITIAL_STATE, action) {\n  switch (action.type) {\n    case STORIES_ADD: {\n      return applyAddStories(state, action);\n    }\n    case STORIES_FETCH_ERROR: {\n      return applyFetchErrorStories(state, action);\n    }\n    default:\n      return state;\n  }\n}\n","import { STORY_ARCHIVE } from '../constants/actionTypes';\n\n/**\n * Initial Archive state.\n *\n * @type {Array}\n */\nconst INITIAL_STATE = [];\n\n/**\n * Archive a story.\n *\n * @param {Object} state - Previous state.\n * @param {Object} action - STORY_ARCHIVE action.\n * @returns {Object} Next state.\n */\nconst applyArchiveStory = (state, action) => [...state, action.id];\n\n/**\n * Archive reducer.\n *\n * @param {Object} [state=INITIAL_STATE] - Previous state.\n * @param {Object} action - Action to handle.\n * @returns {Object} Next state.\n */\nexport default function archiveReducer(state = INITIAL_STATE, action) {\n  switch (action.type) {\n    case STORY_ARCHIVE: {\n      return applyArchiveStory(state, action);\n    }\n    default:\n      return state;\n  }\n}\n","import { combineReducers } from 'redux';\nimport storyReducer from './story';\nimport archiveReducer from './archive';\n\nconst rootReducer = combineReducers({\n  storyState: storyReducer,\n  archiveState: archiveReducer,\n});\n\nexport default rootReducer;\n","const HN_BASE_URL = 'http://hn.algolia.com/api/v1/search?query=';\n\n/**\n * Fetch stories from the Hacker News API.\n *\n * @param {string} query - Search query.\n * @returns {Promise<Object>} The parsed JSON result.\n */\nconst fetchStories = async query => (await fetch(HN_BASE_URL + query)).json();\n\nexport { fetchStories };\n","import { call, put } from 'redux-saga/effects';\nimport { doAddStories, doFetchErrorStories } from '../actions/story';\nimport { fetchStories } from '../api/story';\n\n/**\n * Generate a call to `fetchStories` and a `STORIES_FETCH_ERROR` action, if successful. If not,\n * generate a `STORIES_FETCH_ERROR` action.\n *\n * @param {Object} action - `STORIES_FETCH` action.\n * @returns {Object} An iterator that yields the call and the resulting action.\n */\nexport function* handleFetchStories(action) {\n  const { query } = action;\n\n  try {\n    const result = yield call(fetchStories, query);\n    yield put(doAddStories(result.hits));\n  } catch (error) {\n    yield put(doFetchErrorStories(error));\n  }\n}\n","import { takeEvery, all } from 'redux-saga/effects';\nimport { STORIES_FETCH } from '../constants/actionTypes';\nimport { handleFetchStories } from './story';\n\n/**\n * Root saga.\n *\n * @returns {Object} The root saga generator.\n */\nexport default function* watchAll() {\n  /* eslint-disable redux-saga/no-unhandled-errors */\n  yield all([takeEvery(STORIES_FETCH, handleFetchStories)]);\n  /* eslint-enable redux-saga/no-unhandled-errors */\n}\n","import { createStore, applyMiddleware } from 'redux';\nimport { createLogger } from 'redux-logger';\nimport createSagaMiddleware from 'redux-saga';\nimport rootReducer from '../reducers';\nimport rootSaga from '../sagas';\n\nconst logger = createLogger();\nconst saga = createSagaMiddleware();\n\nconst store = createStore(\n  rootReducer,\n  undefined,\n  applyMiddleware(saga, logger),\n);\n\nsaga.run(rootSaga);\n\nexport default store;\n","/* eslint-disable no-console, more/no-then, require-jsdoc */\n// TODO Rewrite service worker registration\n\n// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)){3}$/,\n    ),\n);\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      // eslint-disable-next-line no-param-reassign\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.',\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.',\n      );\n    });\n}\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA',\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n\n/* eslint-enable no-console, more/no-then, require-jsdoc */\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport './index.css';\nimport App from './components/App';\nimport store from './store';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.querySelector('#root'),\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}